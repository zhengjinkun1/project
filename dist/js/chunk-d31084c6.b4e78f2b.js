(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d31084c6"],{"12b8":function(t,a,i){"use strict";var o=i("c1d9"),n=i.n(o);n.a},c1d9:function(t,a,i){},eb58:function(t,a,i){"use strict";i.r(a);var o=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"ranking"},[i("van-nav-bar",{staticClass:"nav",attrs:{title:"排行榜","left-text":"返回","left-arrow":""}}),i("div",{staticClass:"clearfix ranking-box"},[i("div",{staticClass:"sideBar fl"},[i("van-sidebar",{on:{change:function(a){return t.getId(t.rankData[0][t.activeKey]._id)},click:function(a){return t.getRankDetail(t.id)}},model:{value:t.activeKey,callback:function(a){t.activeKey=a},expression:"activeKey"}},t._l(t.rankData[0],(function(t,a){return i("van-sidebar-item",{key:a,attrs:{title:t.shortTitle}})})),1)],1),i("div",{ref:"reb",staticClass:"content fl"},[i("van-list",{attrs:{finished:t.loadOptions.isFinished,"finished-text":t.loadOptions.finishedText},on:{load:t.loadBook},model:{value:t.loadOptions.isLoading,callback:function(a){t.$set(t.loadOptions,"isLoading",a)},expression:"loadOptions.isLoading"}},t._l(t.someBookData,(function(a,o){return i("div",{key:o,staticClass:"content-box clearfix",on:{click:function(i){return t.goBookDetail(a._id)}}},[i("div",{staticClass:"content-img fl"},[i("img",{staticClass:"auto-img",attrs:{src:decodeURIComponent(a.cover).slice(7),alt:""}})]),i("div",{staticClass:"content-fr fl"},[i("div",{staticClass:"content-fr-title"},[t._v(t._s(a.title))]),i("div",{staticClass:"content-fr-desc"},[t._v(t._s(a.shortIntro))]),i("div",{staticClass:"content-fr-bt"},[i("div",{staticClass:"fl content-author"},[t._v(t._s(a.author))]),i("div",{staticClass:"fr content-fr-type"},[t._v(t._s(a.minorCate))])])])])})),0)],1)])],1)},n=[],e=(i("a434"),i("2909")),s={data:function(){return{activeKey:0,rankData:[],id:"",allBookData:[],someBookData:[],loadCount:10,loadOptions:{isLoading:!0,isFinished:!1,finishedText:"没有数据可加载了"}}},created:function(){this.getRank()},methods:{getRank:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://novel.kele8.cn/rank-category"}).then((function(a){t.$toast.clear(),t.rankData.push(a.data.male),t.getRankDetail(a.data.male[0]._id)})).catch((function(a){t.$toast.clear()}))},getRankDetail:function(t){var a=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0}),this.axios({method:"GET",url:"http://novel.kele8.cn/rank/".concat(t)}).then((function(t){a.$refs.reb.scrollTo(0,0),a.$toast.clear(),a.allBookData.push(t.data.ranking.books),a.someBookData=a.allBookData[0].splice(0,a.loadCount),a.allBookData.length>0&&(a.loadOptions.isLoading=!1)})).catch((function(t){a.$toast.clear()}))},getId:function(t){this.id=t,this.getRankDetail(this.id)},loadBook:function(){var t=this;setTimeout((function(){var a;t.loadOptions.isLoading=!1,(a=t.someBookData).push.apply(a,Object(e["a"])(t.allBookData[0].splice(0,t.loadCount))),0==t.allBookData[0].length&&(t.loadOptions.isLoading=!0,t.loadOptions.isFinished=!0)}),1e3)},goBookDetail:function(t){this.$router.push({name:"BookDetail",query:{id:t}})}}},l=s,c=(i("12b8"),i("2877")),r=Object(c["a"])(l,o,n,!1,null,"2a143b22",null);a["default"]=r.exports}}]);
//# sourceMappingURL=chunk-d31084c6.b4e78f2b.js.map